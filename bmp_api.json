{
  "openapi": "3.0.3",
  "info": {
    "title": "Tayana Bulk Messaging System - Client Management API",
    "description": "",
    "contact": {
      "email": "support@tayana.in"
    },
    "license": {
      "name": "Apache 2.0",
      "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
    },
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://<operatorDecidedDomain>/api/v1"
    }
  ],
  "paths": {
    "/client": {
      "post": {
        "tags": [
          "Client Management"
        ],
        "description": "This API can be used to create client in BMP",
        "security": [
          {
            "basicAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/TransactionId"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateClientInfo"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateClientInfo"
                }
              }
            }
          },
          "405": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/client/{userName}": {
      "patch": {
        "tags": [
          "Client Management"
        ],
        "description": "This API can be used to modify client information in BMP",
        "security": [
          {
            "basicAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/TransactionId"
          },
          {
            "$ref": "#/components/parameters/UserName"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatchClientInfo"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatchClientInfo"
                }
              }
            }
          },
          "400": {
            "description": "Invalid ID supplied",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Client Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "405": {
            "description": "Validation exception",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Client Management"
        ],
        "description": "This API can be used to retrieve specific client information from  BMP",
        "security": [
          {
            "basicAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/TransactionId"
          },
          {
            "$ref": "#/components/parameters/UserName"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RetriveClientInfo"
                }
              }
            }
          }
        }
      }
    },
    "/clientStatus/{userName}": {
      "patch": {
        "tags": [
          "Client Status Management"
        ],
        "description": "This API can be used to set Status for a specific client in BMP",
        "security": [
          {
            "basicAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/TransactionId"
          },
          {
            "$ref": "#/components/parameters/UserName"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "Active",
                      "Inactive"
                    ]
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid ID supplied",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Client Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "405": {
            "description": "Validation exception",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/clientSenderId/{userName}": {
      "patch": {
        "tags": [
          "Client SenderId Management"
        ],
        "description": "This API can be used to Add Sender Id ( Whitelist ) to specific client in BMP.",
        "security": [
          {
            "basicAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/TransactionId"
          },
          {
            "$ref": "#/components/parameters/UserName"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SenderIdInfo"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SenderIdInfo"
                }
              }
            }
          },
          "400": {
            "description": "Invalid ID supplied",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Client Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "405": {
            "description": "Validation exception",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/clientSenderId/{userName}/{senderId}": {
      "delete": {
        "tags": [
          "Client SenderId Management"
        ],
        "description": "This API can be used to delete SenderId associated to specific client in BMP.",
        "security": [
          {
            "basicAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/TransactionId"
          },
          {
            "$ref": "#/components/parameters/UserName"
          },
          {
            "$ref": "#/components/parameters/SenderId"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/parameters/SenderId"
                }
              }
            }
          }
        }
      }
    },
    "/clientShortCode/{userName}": {
      "patch": {
        "tags": [
          "Client Short Code Management"
        ],
        "description": "This API can be used to add short to specific client in BMP",
        "security": [
          {
            "basicAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/TransactionId"
          },
          {
            "$ref": "#/components/parameters/UserName"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShortCodeInfo"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShortCodeInfo"
                }
              }
            }
          },
          "400": {
            "description": "Invalid ID supplied",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Client Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "405": {
            "description": "Validation exception",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/clientShortCode/{userName}/{shortCode}": {
      "delete": {
        "tags": [
          "Client Short Code Management"
        ],
        "description": "This API can be used to delete short code associated to specific client in BMP",
        "security": [
          {
            "basicAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/TransactionId"
          },
          {
            "$ref": "#/components/parameters/UserName"
          },
          {
            "$ref": "#/components/parameters/ShortCode"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/parameters/ShortCode"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "CreateClientInfo": {
        "type": "object",
        "required": [
          "userName",
          "password",
          "alertMobileNumber",
          "basePackageName",
          "senderId"
        ],
        "properties": {
          "userName": {
            "type": "string",
            "minLength": 3,
            "maxLength": 15
          },
          "password": {
            "type": "string",
            "minLength": 3,
            "maxLength": 15
          },
          "minThroughput": {
            "type": "integer",
            "minimum": 1,
            "maximum": 200,
            "default": 1
          },
          "maxThroughput": {
            "type": "integer",
            "minimum": 1,
            "maximum": 200,
            "default": 1
          },
          "alertMobileNumber": {
            "type": "string",
            "minLength": 7,
            "maxLength": 10
          },
          "alertEmailId": {
            "type": "string",
            "maxLength": 50
          },
          "externalAccountNumber": {
            "type": "string",
            "maxLength": 15
          },
          "basePackageName": {
            "type": "string",
            "minLength": 3,
            "maxLength": 30
          },
          "status": {
            "type": "string",
            "enum": [
              "Active",
              "Inactive"
            ],
            "default": "Active"
          },
          "senderIdInfo": {
            "type": "object",
            "required": [
              "defaultSenderId"
            ],
            "properties": {
              "defaultSenderId": {
                "type": "string"
              },
              "senderId": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "shortCodes": {
            "type": "array",
            "items": {
              "type": "number"
            }
          },
          "clientType": {
            "type": "string",
            "default": "CORPORATE",
            "enum": [
              "CORPORATE",
              "RETAIL"
            ]
          },
          "fileManagement": {
            "type": "boolean",
            "default": false,
            "enum": [
              true,
              false
            ]
          },
          "addressBook": {
            "type": "boolean",
            "default": false,
            "enum": [
              true,
              false
            ]
          },
          "distributionList": {
            "type": "boolean",
            "default": false,
            "enum": [
              true,
              false
            ]
          },
          "cannedMessage": {
            "type": "boolean",
            "default": false,
            "enum": [
              true,
              false
            ]
          },
          "transferPoints": {
            "type": "boolean",
            "default": false,
            "enum": [
              true,
              false
            ]
          },
          "detailedReport": {
            "type": "boolean",
            "default": false,
            "enum": [
              true,
              false
            ]
          },
          "expiryDate": {
            "type": "string",
            "format": "date",
            "description": "Client Expiry Date",
            "example": "DD-MM-YYYY",
            "default": "31-12-2035"
          }
        }
      },
      "PatchClientInfo": {
        "type": "object",
        "properties": {
          "password": {
            "type": "string"
          },
          "alertMobileNumber": {
            "type": "string"
          },
          "alertEmailId": {
            "type": "string"
          },
          "externalAccountNumber": {
            "type": "string"
          },
          "basePackageName": {
            "type": "string"
          }
        }
      },
      "RetriveClientInfo": {
        "type": "object",
        "required": [
          "userName",
          "password",
          "alertMobileNumber",
          "basePackageName"
        ],
        "properties": {
          "userName": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "minThroughput": {
            "type": "integer",
            "minimum": 1,
            "maximum": 200,
            "default": 1
          },
          "maxThroughput": {
            "type": "integer",
            "minimum": 1,
            "maximum": 200,
            "default": 1
          },
          "alertMobileNumber": {
            "type": "string"
          },
          "alertEmailId": {
            "type": "string"
          },
          "externalAccountNumber": {
            "type": "string"
          },
          "basePackageName": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "Active",
              "Inactive"
            ],
            "default": "Active"
          },
          "senderIdInfo": {
            "type": "object",
            "required": [
              "defaultSenderId"
            ],
            "properties": {
              "defaultSenderId": {
                "type": "string"
              },
              "senderId": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "shortCodes": {
            "type": "array",
            "items": {
              "type": "number"
            }
          },
          "clientType": {
            "type": "string",
            "default": "CORPORATE",
            "enum": [
              "CORPORATE",
              "RETAIL"
            ]
          },
          "fileManagement": {
            "type": "boolean",
            "default": false,
            "enum": [
              true,
              false
            ]
          },
          "addressBook": {
            "type": "boolean",
            "default": false,
            "enum": [
              true,
              false
            ]
          },
          "distributionList": {
            "type": "boolean",
            "default": false,
            "enum": [
              true,
              false
            ]
          },
          "cannedMessage": {
            "type": "boolean",
            "default": false,
            "enum": [
              true,
              false
            ]
          },
          "transferPoints": {
            "type": "boolean",
            "default": false,
            "enum": [
              true,
              false
            ]
          },
          "detailedReport": {
            "type": "boolean",
            "default": false,
            "enum": [
              true,
              false
            ]
          },
          "expiryDate": {
            "type": "string",
            "format": "date",
            "description": "Client Expiry Date",
            "example": "DD-MM-YYYY",
            "default": "31-12-2035"
          },
          "creationDate": {
            "type": "string",
            "format": "date",
            "description": "Creation Date",
            "example": "DD-MM-YYYY HH:MM:SS"
          },
          "lastModifiedDate": {
            "type": "string",
            "format": "date",
            "description": "Last Modified Date",
            "example": "DD-MM-YYYY HH:MM:SS"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "required": [
          "errorCode",
          "errorDescription",
          "httpErrorCode"
        ],
        "properties": {
          "errorCode": {
            "type": "number"
          },
          "errorDescription": {
            "type": "string"
          },
          "httpErrorCode": {
            "type": "number"
          }
        }
      },
      "SuccessResponse": {
        "type": "object",
        "required": [
          "Description"
        ],
        "properties": {
          "Description": {
            "type": "string"
          }
        }
      },
      "SenderIdInfo": {
        "type": "object",
        "required": [
          "senderId"
        ],
        "properties": {
          "senderId": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "ShortCodeInfo": {
        "type": "object",
        "required": [
          "shortCodes"
        ],
        "properties": {
          "shortCodes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "securitySchemes": {
      "basicAuth": {
        "type": "http",
        "scheme": "basic"
      }
    },
    "parameters": {
      "TransactionId": {
        "name": "transactionId",
        "in": "header",
        "required": true,
        "schema": {
          "type": "string",
          "minLength": 1,
          "maxLength": 40
        },
        "description": "Application Transaction Reference Id"
      },
      "UserName": {
        "name": "userName",
        "in": "path",
        "required": true,
        "schema": {
          "type": "string",
          "minLength": 1,
          "maxLength": 25
        },
        "description": "Client User Name"
      },
      "SenderId": {
        "name": "senderId",
        "in": "path",
        "required": true,
        "schema": {
          "type": "string",
          "minLength": 1,
          "maxLength": 11
        },
        "description": "Client SenderId"
      },
      "ShortCode": {
        "name": "shortCode",
        "in": "path",
        "required": true,
        "schema": {
          "type": "string",
          "minLength": 1,
          "maxLength": 10
        },
        "description": "Client SenderId"
      }
    }
  }
}